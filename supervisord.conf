[supervisord]
nodaemon=true

[program:xrdp-sesman]
command=/usr/sbin/xrdp-sesman --nodaemon
user=root
priority=1

[program:xrdp]
command=/usr/sbin/xrdp --nodaemon
user=root
priority=2
; XRDP 必须在 sesman 后启动

[program:openbox]
; 需要一个占位会话给 XRDP 连接，实际会话由 sesman 动态生成，
; 但这里我们需要预热环境或做一些持久化配置（可选）。
; 在此方案中，XRDP 会通过 Xorg 后端拉起用户会话。
; 下面的配置是针对 Docker 单一应用模式的 Trick。
; 但更稳妥的方式是让用户登录时触发 .xsession。
command=/bin/true
autostart=false